<!DOCTYPE html>
<!--=== Coding by CodingLab | www.codinglabweb.com === -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/3405f03f1d.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <!----======== CSS ======== -->
    <link rel="stylesheet" href="/css/styleStat.css">
     
    <!----===== Iconscout CSS ===== -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">

    <title>Médecin Tableau de bord</title> </head>
<body>
    <nav>
        <div  class="logo-name" > 
            <!--<div class="logo-image">
                  <img src="images/logo.png" alt="">
              </div>-->  
              <a href="http://localhost:3000/rendoc/index" class="logo">
                <img src="/images/logo.png" alt="">
              </a>
          </div>

        <div class="menu-items">
            <ul class="nav-links">
                <li><a href="http://localhost:3000/rendoc/med">
                    <i class="uil uil-estate"></i>
                    <span class="link-name">Tableau de bord</span>
                </a></li>
                <li><a href="http://localhost:3000/rendoc/medStat">
                    <i class="fa-solid fa-chart-column"></i>     
                     <span class="link-name">Statistique Rendez-vous</span>
                </a></li>
                <li><a href="http://localhost:3000/rendoc/medListRDV">
                    <i class="fa-solid fa-calendar-check"></i>
                    <span class="link-name">Gérer les rendez-vous</span>
                </a></li>
                <li><a href="http://localhost:3000/rendoc/medListPat">
                    <i class="fa-solid fa-hospital-user"></i>
                    <span class="link-name">Listes des patients</span>
                </a></li>
                <li><a href="http://localhost:3000/rendoc/medpub">
                    <i class="fa-solid fa-lightbulb"></i>
                    <span class="link-name">Avis Médiceaux</span>
                </a></li>
                
                
            </ul>
            
            <ul class="logout-mode">
                <li><a href="http://localhost:3000/rendoc/medProfil">
                    <i class="fa-solid fa-user"></i>
                    <span class="link-name">Profile</span>
                </a></li>
                <li><a href="http://localhost:3000/rendoc/Authentification">
                    <i class="uil uil-signout"></i>
                    <span class="link-name">Déconnecter</span>
                </a></li>
           
               <!--     <li class="mode">
                    <a href="#">
                        <i class="uil uil-moon"></i>
                    <span class="link-name">Mode Nuit</span>
                </a>-->

                <div class="mode-toggle">
                  <span class="switch"></span>
                </div>
            </li>
            </ul>
        </div>
    </nav>
    <form method="post">
    <section class="dashboard">
        <div class="top">
            <i class="uil uil-bars sidebar-toggle"></i>

            <div class="search-box">
                
                    <button class="btRech" type="submit"><i class="uil uil-search" ></i></button>

                    <input type="date"  name="iddate1">
                
            </div>
            <div class="search-box">
                


                    <input type="date"  name="iddate2">
                
            </div>
            <span class="rr">Dr. <%= nom  %> <%= prenom %></span>
          
        </div>

        <div class="dash-content">
            <div class="overview">
               
       
            <div class="activity">
                <div class="title">
                    <i class="fa-solid fa-chart-column"></i>   
                    <span class="text">Satatistique des Rendez-vous</span>
                </div>
                <div class="table_section">
                    <table>
                    <canvas id="chart" aria-label="chart" role="img">

                    </canvas>
                    </table>
                    
                </div>
               
            </div>
        </div>
    </section>
  </form>
    <div id="datPar">
        <% for(var j=0 ; j < tu.length ;j++) { %>
        <input type="hidden" id="date<%= j+1 %>" value="<%= tu[j].dateR %>">
        <input type="hidden" id="val<%= j+1 %>" value="<%= tu[j].stat %>">
        <% } %>
    </div>
    
    
    
    <script >

        const ctx = document.getElementById('chart').getContext('2d');
        const datPar =document.getElementById('datPar');
        const enfant=datPar.getElementsByTagName('*');
        var bool=true;
        var tab1=[];
        var tab2=[];
        var i=1;
        
           for( i ; i<=(enfant.length/2);i++){
                
            let input1 =document.getElementById("date"+i+"");
            let input2 =document.getElementById("val"+i+"");
                tab1.push(input1.value);
                tab2.push(input2.value);
            
            }


        
        
    const myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: tab1,
            datasets: [{
                label: '# Nombre de Rendez-vous par date',
                data: tab2,
                backgroundColor: "#0298cf",
                borderWidth:"20px"
                
            }]
        }
    });
    
    </script>
    
    
    
</body>
</html>